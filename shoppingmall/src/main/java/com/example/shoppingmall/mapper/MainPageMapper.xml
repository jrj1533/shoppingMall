<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.shoppingmall.mapper.MainPageMapper">

<select id="totalCount" parameterType="String">
	SELECT 
		COUNT(*)
	FROM item
	WHERE status = 'APPROVAL';
</select>

<select id="findProductsList"> 
SELECT
  i.item_no      AS itemNo,
  f.save_name    AS saveName,
  i.item_title   AS itemTitle,
  i.item_amount  AS itemAmount
FROM item AS i
INNER JOIN item_file AS f
  ON i.item_no = f.item_no
WHERE i.status = 'APPROVAL'
 AND f.file_order = 1
ORDER BY i.item_no DESC
limit #{beginRow}, #{size};
	

</select>
</mapper>